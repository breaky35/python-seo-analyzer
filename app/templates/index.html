<!DOCTYPE html>
<html>
<head>
    <title>SEO Analyzer</title>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <h1>SEO Website Analyzer</h1>

    <form id="seoForm">
        <input type="text" id="url" placeholder="Website URL" required>
        <button type="submit">Analyse & Pay</button>
    </form>

    <script>
        const stripe = Stripe("{{ stripe_public }}");

        document.getElementById("seoForm").addEventListener("submit", async (e) => {
            e.preventDefault();

            const response = await fetch("/create-checkout-session", { method: "POST" });
            const session = await response.json();

            await stripe.redirectToCheckout({ sessionId: session.id });
        });
    </script>

</body>
</html>
